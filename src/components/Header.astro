---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE_0, SITE_TITLE_1 } from '../consts';
---

<header>
	<nav>

		<h2 title="Accueil">
			<a title="Accueil" href="/">
				<img id="logo" width="50" height="50" src="/logo.jpg" />
			</a>
			<a id="titre0" href="/">{SITE_TITLE_0}</a>
			<a id="titre1" href="/">{SITE_TITLE_1}</a>
		</h2>

		<div class="internal-links">
			<HeaderLink href="/about">À propos</HeaderLink>
			<HeaderLink href="/projet">Projet actuel</HeaderLink>
		</div>

		<!-- MOBILE MENU WRAPPER -->
		<div class="mobile-menu">
			<input id="burger-toggle" type="checkbox" />

			<label for="burger-toggle" class="burger-icon">
				<span></span>
				<span></span>
				<span></span>
			</label>

			<div class="burger-panel">
				<a href="/about">À propos</a>
				<a href="/projet">Projet actuel</a>
			</div>
		</div>

	</nav>
</header>

<style>
	header {
		padding: 0 1em;
		background: white;
		box-shadow: 0 2px 8px rgba(var(--black), 5%);
		height: 4em;
		display: flex;
		align-items: center;
		position: relative;
	}

	nav {
		display: flex;
		align-items: center;
		width: 100%;
	}

	h2 {
		margin: 0;
		font-size: 1em;
		translate: 50px;
		position: relative;
	}

	.internal-links {
		margin: 0 auto;
		display: flex;
		gap: 1em;
	}

	/* LOGO */
	#logo {
		position: absolute;
		translate: -100% -30%;
		border: 2px dotted white;
		transition: 0.3s;
	}

	h2:hover #logo {
		border-radius: 50%;
		border-color: #00ff73;
	}

	/* MOBILE MENU BASE */
	.mobile-menu {
		display: none;
		margin-left: auto;
		position: relative;
	}

	#burger-toggle {
		display: none;
	}

	.burger-icon {
		width: 24px;
		height: 18px;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		cursor: pointer;
	}

	.burger-icon span {
		height: 3px;
		background: black;
		border-radius: 2px;
	}

	.burger-panel {
		display: none;
		position: absolute;
		top: 3em;
		right: 0;
		background: white;
		box-shadow: 0 4px 12px rgba(0,0,0,0.1);
		padding: 1em;
		width: 180px;
		display: flex;
		flex-direction: column;
		gap: 0.5em;
	}

	/* THIS IS THE IMPORTANT LINE */
	:global(#burger-toggle:checked ~ .burger-panel) {
	display: flex;
}

	/* MOBILE BREAKPOINT */
	@media (max-width: 540px) {

		.internal-links {
			display: none;
		}

		.mobile-menu {
			display: block;
		}
	}
</style>
